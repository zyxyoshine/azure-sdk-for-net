<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface IFileStagingArtifact
   | Azure SDK for Net </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface IFileStagingArtifact
   | Azure SDK for Net ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.Azure.Batch.IFileStagingArtifact">
  
  
  <h1 id="Microsoft_Azure_Batch_IFileStagingArtifact" data-uid="Microsoft.Azure.Batch.IFileStagingArtifact" class="text-break">Interface IFileStagingArtifact
  </h1>
  <div class="markdown level0 summary"><p>Contains information about a file staging process.  File staging is typically performed for
a <a class="xref" href="Microsoft.Azure.Batch.CloudTask.html">CloudTask</a> (see <a class="xref" href="Microsoft.Azure.Batch.CloudTask.html#Microsoft_Azure_Batch_CloudTask_FilesToStage">FilesToStage</a>).</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="../Microsoft.Azure.Batch.html">Microsoft.Azure.Batch</a></h6>
  <h6><strong>Assembly</strong>: Microsoft.Azure.Batch.dll</h6>
  <h5 id="Microsoft_Azure_Batch_IFileStagingArtifact_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IFileStagingArtifact</code></pre>
  </div>
  <h5 id="Microsoft_Azure_Batch_IFileStagingArtifact_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>
      IFileStagingArtifact allows an application to customize and to obtain information about the process of uploading
      files to the cloud, for example as part of a task-related operation such as
<a class="xref" href="Microsoft.Azure.Batch.JobOperations.html#Microsoft_Azure_Batch_JobOperations_AddTaskAsync_System_String_System_Collections_Generic_IEnumerable_Microsoft_Azure_Batch_CloudTask__Microsoft_Azure_Batch_BatchClientParallelOptions_System_Collections_Concurrent_ConcurrentBag_System_Collections_Concurrent_ConcurrentDictionary_System_Type_Microsoft_Azure_Batch_IFileStagingArtifact___System_Nullable_System_TimeSpan__System_Collections_Generic_IEnumerable_Microsoft_Azure_Batch_BatchClientBehavior__">AddTaskAsync(String, IEnumerable&lt;CloudTask&gt;, BatchClientParallelOptions, ConcurrentBag&lt;ConcurrentDictionary&lt;Type,IFileStagingArtifact&gt;&gt;, Nullable&lt;TimeSpan&gt;, IEnumerable&lt;BatchClientBehavior&gt;)</a>
      or <a class="xref" href="Microsoft.Azure.Batch.CloudJob.html#Microsoft_Azure_Batch_CloudJob_AddTaskAsync_Microsoft_Azure_Batch_CloudTask_System_Collections_Concurrent_ConcurrentDictionary_System_Type_Microsoft_Azure_Batch_IFileStagingArtifact__System_Collections_Generic_IEnumerable_Microsoft_Azure_Batch_BatchClientBehavior__System_Threading_CancellationToken_">AddTaskAsync(CloudTask, ConcurrentDictionary&lt;Type,IFileStagingArtifact&gt;, IEnumerable&lt;BatchClientBehavior&gt;, CancellationToken)</a>.  Applications may use this
      information to, for example, find out about containers that were created in Azure Storage as
      part of the upload process.
</p>
<p>
      When <a class="xref" href="Microsoft.Azure.Batch.JobOperations.html#Microsoft_Azure_Batch_JobOperations_AddTaskAsync_System_String_System_Collections_Generic_IEnumerable_Microsoft_Azure_Batch_CloudTask__Microsoft_Azure_Batch_BatchClientParallelOptions_System_Collections_Concurrent_ConcurrentBag_System_Collections_Concurrent_ConcurrentDictionary_System_Type_Microsoft_Azure_Batch_IFileStagingArtifact___System_Nullable_System_TimeSpan__System_Collections_Generic_IEnumerable_Microsoft_Azure_Batch_BatchClientBehavior__">AddTaskAsync(String, IEnumerable&lt;CloudTask&gt;, BatchClientParallelOptions, ConcurrentBag&lt;ConcurrentDictionary&lt;Type,IFileStagingArtifact&gt;&gt;, Nullable&lt;TimeSpan&gt;, IEnumerable&lt;BatchClientBehavior&gt;)</a>
      is called, the Batch client sends the tasks to the Batch service in collections.  As each collection is
      processed, the Batch client performs file staging for that collection: it examines the tasks to see if
      any of them specify any <a class="xref" href="Microsoft.Azure.Batch.CloudTask.html#Microsoft_Azure_Batch_CloudTask_FilesToStage">FilesToStage</a>, and if so creates a dictionary entry for
      each type of <a class="xref" href="../Microsoft.Azure.Batch.FileStaging/Microsoft.Azure.Batch.FileStaging.IFileStagingProvider.html">IFileStagingProvider</a> in the FilesToStage collection. The key of
      the dictionary entry is the <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.type">Type</a> of the IFileStagingProvider and the value is an instance
      of the corresponding implementation of IFileStagingArtifact.  For example, if FilesToStage includes one or more
      FileToStage objects (from the Microsoft.Azure.Batch.FileStaging library), then the dictionary contains an entry whose key is
      typeof(FileToStage) and whose value is an instance of SequentialFileStagingArtifact.
</p>
<p>
      When the Add Task operation completes, or during the Add Task operation if the application is multi-threaded,
      you can examine the dictionary and convert each IFileStagingArtifact to the appropriate type to retrieve
      the type-specific information.  For example, if your Add Task operation specified one or more FileToStage objects,
      you can locate the dictionary entry keyed by typeof(FileToStage), cast the value to SequentialFileStagingArtifact,
      and examine the SequentialFileStagingArtifact.BlobContainerCreated property to
      determine if the upload process created a blob container in Azure Storage and if so the name of that container.
      This example could be useful for cleaning up automatically created containers.
</p>
<p>
      (Single-task Add Task operations work similarly, except that in a multi-task Add Task operation, there is
      a dictionary for each collection of tasks, and the dictionaries are collected in a <a class="xref" href="https://docs.microsoft.com/dotnet/api/system.collections.concurrent.concurrentbag-1">ConcurrentBag&lt;T&gt;</a>,
      whereas in a single-task Add Task operation there is only a single dictionary.)
</p>
<p>
      In a single-task Add Task operation, you can also use the dictionary to customize the file staging process, by pre-populating it with appropriate
      entries.  For example, suppose you wish to control the <a class="xref" href="Microsoft.Azure.Batch.IFileStagingArtifact.html#Microsoft_Azure_Batch_IFileStagingArtifact_NamingFragment">NamingFragment</a> for a group of FileToStage
      objects.  Then you could initialize the dictionary with <code data-dev-comment-type="c">{ typeof(FileToStage), new SequentialFileStagingArtifact { NamingFragment = "myname" } }</code>
      before passing it to AddTaskAsync.  The FileToStage implementation of IFileStagingProvider would then use your
      SequentialFileStagingArtifact instead of creating its own.  (This feature is not available in multi-task
      Add Task operations.)
</p>
<p>
      You may also encounter IFileStagingArtifact if you are developing a custom <a class="xref" href="../Microsoft.Azure.Batch.FileStaging/Microsoft.Azure.Batch.FileStaging.IFileStagingProvider.html">IFileStagingProvider</a>.
      In this case you will typically create a custom implementation of IFileStagingArtifact to report
      implementation-specific information about your file staging process.
</p>
</div>
  <h3 id="properties">Properties
  </h3>
  
  
  <a id="Microsoft_Azure_Batch_IFileStagingArtifact_NamingFragment_" data-uid="Microsoft.Azure.Batch.IFileStagingArtifact.NamingFragment*"></a>
  <h4 id="Microsoft_Azure_Batch_IFileStagingArtifact_NamingFragment" data-uid="Microsoft.Azure.Batch.IFileStagingArtifact.NamingFragment">NamingFragment</h4>
  <div class="markdown level1 summary"><p>Gets or sets a name fragment that can be used when constructing default names.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string NamingFragment { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_IFileStagingArtifact_NamingFragment_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Although a caller may set this property, the <a class="xref" href="../Microsoft.Azure.Batch.FileStaging/Microsoft.Azure.Batch.FileStaging.IFileStagingProvider.html">IFileStagingProvider</a> implementation
is not required to respect it.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Azure SDK for Net
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
