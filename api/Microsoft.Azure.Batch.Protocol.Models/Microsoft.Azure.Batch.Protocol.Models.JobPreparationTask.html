<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class JobPreparationTask
   | Azure SDK for Net </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class JobPreparationTask
   | Azure SDK for Net ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask">
  
  
  <h1 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask" class="text-break">Class JobPreparationTask
  </h1>
  <div class="markdown level0 summary"><p>A Job Preparation Task to run before any Tasks of the Job on any given
Compute Node.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">JobPreparationTask</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="../Microsoft.Azure.Batch.Protocol.Models.html">Microsoft.Azure.Batch.Protocol.Models</a></h6>
  <h6><strong>Assembly</strong>: Microsoft.Azure.Batch.dll</h6>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class JobPreparationTask</code></pre>
  </div>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>You can use Job Preparation to prepare a Node to run Tasks for the Job.</p>
<p>Activities commonly performed in Job Preparation include: Downloading</p>
<p>common resource files used by all the Tasks in the Job. The Job</p>
<p>Preparation Task can download these common resource files to the shared</p>
<p>location on the Node. (AZ_BATCH_NODE_ROOT_DIR\shared), or starting a</p>
<p>local service on the Node so that all Tasks of that Job can communicate</p>
<p>with it. If the Job Preparation Task fails (that is, exhausts its retry</p>
<p>count before exiting with exit code 0), Batch will not run Tasks of</p>
<p>this Job on the Node. The Compute Node remains ineligible to run Tasks</p>
<p>of this Job until it is reimaged. The Compute Node remains active and</p>
<p>can be used for other Jobs. The Job Preparation Task can run multiple</p>
<p>times on the same Node. Therefore, you should write the Job Preparation</p>
<p>Task to handle re-execution. If the Node is rebooted, the Job</p>
<p>Preparation Task is run again on the Compute Node before scheduling any</p>
<p>other Task of the Job, if rerunOnNodeRebootAfterSuccess is true or if</p>
<p>the Job Preparation Task did not previously complete. If the Node is</p>
<p>reimaged, the Job Preparation Task is run again before scheduling any</p>
<p>Task of the Job. Batch will retry Tasks when a recovery operation is</p>
<p>triggered on a Node. Examples of recovery operations include (but are</p>
<p>not limited to) when an unhealthy Node is rebooted or a Compute Node</p>
<p>disappeared due to host failure. Retries due to recovery operations are</p>
<p>independent of and are not counted against the maxTaskRetryCount. Even</p>
<p>if the maxTaskRetryCount is 0, an internal retry due to a recovery</p>
<p>operation may occur. Because of this, all Tasks should be idempotent.</p>
<p>This means Tasks need to tolerate being interrupted and restarted</p>
<p>without causing any corruption or duplicate data. The best practice for</p>
<p>long running Tasks is to use some form of checkpointing.</p>
</div>
  <h3 id="constructors">Constructors
  </h3>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask__ctor_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.#ctor*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask__ctor" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.#ctor">JobPreparationTask()</h4>
  <div class="markdown level1 summary"><p>Initializes a new instance of the JobPreparationTask class.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public JobPreparationTask ();</code></pre>
  </div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask__ctor_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.#ctor*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask__ctor_System_String_System_String_Microsoft_Azure_Batch_Protocol_Models_TaskContainerSettings_System_Collections_Generic_IList_Microsoft_Azure_Batch_Protocol_Models_ResourceFile__System_Collections_Generic_IList_Microsoft_Azure_Batch_Protocol_Models_EnvironmentSetting__Microsoft_Azure_Batch_Protocol_Models_TaskConstraints_System_Nullable_System_Boolean__Microsoft_Azure_Batch_Protocol_Models_UserIdentity_System_Nullable_System_Boolean__" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.#ctor(System.String,System.String,Microsoft.Azure.Batch.Protocol.Models.TaskContainerSettings,System.Collections.Generic.IList{Microsoft.Azure.Batch.Protocol.Models.ResourceFile},System.Collections.Generic.IList{Microsoft.Azure.Batch.Protocol.Models.EnvironmentSetting},Microsoft.Azure.Batch.Protocol.Models.TaskConstraints,System.Nullable{System.Boolean},Microsoft.Azure.Batch.Protocol.Models.UserIdentity,System.Nullable{System.Boolean})">JobPreparationTask(String, String, TaskContainerSettings, IList&lt;ResourceFile&gt;, IList&lt;EnvironmentSetting&gt;, TaskConstraints, Nullable&lt;Boolean&gt;, UserIdentity, Nullable&lt;Boolean&gt;)</h4>
  <div class="markdown level1 summary"><p>Initializes a new instance of the JobPreparationTask class.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public JobPreparationTask (string commandLine, string id = null, Microsoft.Azure.Batch.Protocol.Models.TaskContainerSettings containerSettings = null, System.Collections.Generic.IList&lt;Microsoft.Azure.Batch.Protocol.Models.ResourceFile&gt; resourceFiles = null, System.Collections.Generic.IList&lt;Microsoft.Azure.Batch.Protocol.Models.EnvironmentSetting&gt; environmentSettings = null, Microsoft.Azure.Batch.Protocol.Models.TaskConstraints constraints = null, Nullable&lt;bool&gt; waitForSuccess = null, Microsoft.Azure.Batch.Protocol.Models.UserIdentity userIdentity = null, Nullable&lt;bool&gt; rerunOnNodeRebootAfterSuccess = null);</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">commandLine</span></td>
        <td><p>The command line of the Job Preparation
Task.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">id</span></td>
        <td><p>A string that uniquely identifies the Job
Preparation Task within the Job.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.TaskContainerSettings.html">TaskContainerSettings</a></td>
        <td><span class="parametername">containerSettings</span></td>
        <td><p>The settings for the container
under which the Job Preparation Task runs.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.collections.generic.ilist-1">IList</a>&lt;<a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.ResourceFile.html">ResourceFile</a>&gt;</td>
        <td><span class="parametername">resourceFiles</span></td>
        <td><p>A list of files that the Batch service
will download to the Compute Node before running the command
line.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.collections.generic.ilist-1">IList</a>&lt;<a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.EnvironmentSetting.html">EnvironmentSetting</a>&gt;</td>
        <td><span class="parametername">environmentSettings</span></td>
        <td><p>A list of environment variable
settings for the Job Preparation Task.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.TaskConstraints.html">TaskConstraints</a></td>
        <td><span class="parametername">constraints</span></td>
        <td><p>Constraints that apply to the Job
Preparation Task.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.nullable-1">Nullable</a>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a>&gt;</td>
        <td><span class="parametername">waitForSuccess</span></td>
        <td><p>Whether the Batch service should wait
for the Job Preparation Task to complete successfully before
scheduling any other Tasks of the Job on the Compute Node. A Job
Preparation Task has completed successfully if it exits with exit
code 0.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.UserIdentity.html">UserIdentity</a></td>
        <td><span class="parametername">userIdentity</span></td>
        <td><p>The user identity under which the Job
Preparation Task runs.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.nullable-1">Nullable</a>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a>&gt;</td>
        <td><span class="parametername">rerunOnNodeRebootAfterSuccess</span></td>
        <td><p>Whether the Batch
service should rerun the Job Preparation Task after a Compute Node
reboots.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
  </h3>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_CommandLine_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.CommandLine*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_CommandLine" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.CommandLine">CommandLine</h4>
  <div class="markdown level1 summary"><p>Gets or sets the command line of the Job Preparation Task.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;commandLine&quot;)]
public string CommandLine { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_CommandLine_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The command line does not run under a shell, and therefore cannot</p>
<p>take advantage of shell features such as environment variable</p>
<p>expansion. If you want to take advantage of such features, you</p>
<p>should invoke the shell in the command line, for example using &quot;cmd</p>
<p>/c MyCommand&quot; in Windows or &quot;/bin/sh -c MyCommand&quot; in Linux. If the</p>
<p>command line refers to file paths, it should use a relative path</p>
<p>(relative to the Task working directory), or use the Batch provided</p>
<p>environment variable</p>
<p>(<a href="https://docs.microsoft.com/en-us/azure/batch/batch-compute-node-environment-variables">https://docs.microsoft.com/en-us/azure/batch/batch-compute-node-environment-variables</a>).</p>
</div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_Constraints_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.Constraints*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_Constraints" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.Constraints">Constraints</h4>
  <div class="markdown level1 summary"><p>Gets or sets constraints that apply to the Job Preparation Task.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;constraints&quot;)]
public Microsoft.Azure.Batch.Protocol.Models.TaskConstraints Constraints { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.TaskConstraints.html">TaskConstraints</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_ContainerSettings_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.ContainerSettings*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_ContainerSettings" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.ContainerSettings">ContainerSettings</h4>
  <div class="markdown level1 summary"><p>Gets or sets the settings for the container under which the Job
Preparation Task runs.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;containerSettings&quot;)]
public Microsoft.Azure.Batch.Protocol.Models.TaskContainerSettings ContainerSettings { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.TaskContainerSettings.html">TaskContainerSettings</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_ContainerSettings_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>When this is specified, all directories recursively below the</p>
<p>AZ_BATCH_NODE_ROOT_DIR (the root of Azure Batch directories on the</p>
<p>node) are mapped into the container, all Task environment variables</p>
<p>are mapped into the container, and the Task command line is</p>
<p>executed in the container. Files produced in the container outside</p>
<p>of AZ_BATCH_NODE_ROOT_DIR might not be reflected to the host disk,</p>
<p>meaning that Batch file APIs will not be able to access those</p>
<p>files.</p>
</div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_EnvironmentSettings_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.EnvironmentSettings*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_EnvironmentSettings" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.EnvironmentSettings">EnvironmentSettings</h4>
  <div class="markdown level1 summary"><p>Gets or sets a list of environment variable settings for the Job
Preparation Task.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;environmentSettings&quot;)]
public System.Collections.Generic.IList&lt;Microsoft.Azure.Batch.Protocol.Models.EnvironmentSetting&gt; EnvironmentSettings { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.collections.generic.ilist-1">IList</a>&lt;<a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.EnvironmentSetting.html">EnvironmentSetting</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_Id_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.Id*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_Id" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.Id">Id</h4>
  <div class="markdown level1 summary"><p>Gets or sets a string that uniquely identifies the Job Preparation
Task within the Job.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;id&quot;)]
public string Id { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_Id_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The ID can contain any combination of alphanumeric characters</p>
<p>including hyphens and underscores and cannot contain more than 64</p>
<p>characters. If you do not specify this property, the Batch service</p>
<p>assigns a default value of 'jobpreparation'. No other Task in the</p>
<p>Job can have the same ID as the Job Preparation Task. If you try to</p>
<p>submit a Task with the same id, the Batch service rejects the</p>
<p>request with error code TaskIdSameAsJobPreparationTask; if you are</p>
<p>calling the REST API directly, the HTTP status code is 409</p>
<p>(Conflict).</p>
</div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_RerunOnNodeRebootAfterSuccess_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.RerunOnNodeRebootAfterSuccess*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_RerunOnNodeRebootAfterSuccess" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.RerunOnNodeRebootAfterSuccess">RerunOnNodeRebootAfterSuccess</h4>
  <div class="markdown level1 summary"><p>Gets or sets whether the Batch service should rerun the Job
Preparation Task after a Compute Node reboots.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;rerunOnNodeRebootAfterSuccess&quot;)]
public Nullable&lt;bool&gt; RerunOnNodeRebootAfterSuccess { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.nullable-1">Nullable</a>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_RerunOnNodeRebootAfterSuccess_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The Job Preparation Task is always rerun if a Compute Node is</p>
<p>reimaged, or if the Job Preparation Task did not complete (e.g.</p>
<p>because the reboot occurred while the Task was running). Therefore,</p>
<p>you should always write a Job Preparation Task to be idempotent and</p>
<p>to behave correctly if run multiple times. The default value is</p>
<p>true.</p>
</div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_ResourceFiles_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.ResourceFiles*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_ResourceFiles" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.ResourceFiles">ResourceFiles</h4>
  <div class="markdown level1 summary"><p>Gets or sets a list of files that the Batch service will download
to the Compute Node before running the command line.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;resourceFiles&quot;)]
public System.Collections.Generic.IList&lt;Microsoft.Azure.Batch.Protocol.Models.ResourceFile&gt; ResourceFiles { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.collections.generic.ilist-1">IList</a>&lt;<a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.ResourceFile.html">ResourceFile</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_ResourceFiles_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Files listed under this element are located in the Task's working</p>
<p>directory.  There is a maximum size for the list of resource files.</p>
<p>When the max size is exceeded, the request will fail and the</p>
<p>response error code will be RequestEntityTooLarge. If this occurs,</p>
<p>the collection of ResourceFiles must be reduced in size. This can</p>
<p>be achieved using .zip files, Application Packages, or Docker</p>
<p>Containers.</p>
</div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_UserIdentity_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.UserIdentity*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_UserIdentity" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.UserIdentity">UserIdentity</h4>
  <div class="markdown level1 summary"><p>Gets or sets the user identity under which the Job Preparation Task
runs.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;userIdentity&quot;)]
public Microsoft.Azure.Batch.Protocol.Models.UserIdentity UserIdentity { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Azure.Batch.Protocol.Models.UserIdentity.html">UserIdentity</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_UserIdentity_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>If omitted, the Task runs as a non-administrative user unique to</p>
<p>the Task on Windows Compute Nodes, or a non-administrative user</p>
<p>unique to the Pool on Linux Compute Nodes.</p>
</div>
  
  
  <a id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_WaitForSuccess_" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.WaitForSuccess*"></a>
  <h4 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_WaitForSuccess" data-uid="Microsoft.Azure.Batch.Protocol.Models.JobPreparationTask.WaitForSuccess">WaitForSuccess</h4>
  <div class="markdown level1 summary"><p>Gets or sets whether the Batch service should wait for the Job
Preparation Task to complete successfully before scheduling any
other Tasks of the Job on the Compute Node. A Job Preparation Task
has completed successfully if it exits with exit code 0.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Newtonsoft.Json.JsonProperty(PropertyName=&quot;waitForSuccess&quot;)]
public Nullable&lt;bool&gt; WaitForSuccess { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.nullable-1">Nullable</a>&lt;<a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Azure_Batch_Protocol_Models_JobPreparationTask_WaitForSuccess_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>If true and the Job Preparation Task fails on a Node, the Batch</p>
<p>service retries the Job Preparation Task up to its maximum retry</p>
<p>count (as specified in the constraints element). If the Task has</p>
<p>still not completed successfully after all retries, then the Batch</p>
<p>service will not schedule Tasks of the Job to the Node. The Node</p>
<p>remains active and eligible to run Tasks of other Jobs. If false,</p>
<p>the Batch service will not wait for the Job Preparation Task to</p>
<p>complete. In this case, other Tasks of the Job can start executing</p>
<p>on the Compute Node while the Job Preparation Task is still</p>
<p>running; and even if the Job Preparation Task fails, new Tasks will</p>
<p>continue to be scheduled on the Compute Node. The default value is</p>
<p>true.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Azure SDK for Net
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
